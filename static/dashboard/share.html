<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Meta tags  -->
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta
      name="viewport"
      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0"
    />

    <title>Speedlink</title>
    <link rel="icon" type="image/png" href="../images/favicon.png" />

    <!-- CSS Assets -->
    <link rel="stylesheet" href="../css/output.css" />
    <link rel="stylesheet" href="../css/app.css" />
 

    <!-- Javascript Assets -->
    <script src="../js/app.js" defer></script>
    <script src="../js/jquery.js"></script>
    <script src="../js/w3.js" ></script>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap"
      rel="stylesheet"
    />
  </head>
  <!-- <style>
    .card{
      color: black;
    }
    body{
      color: black;
    }
  </style> -->
  <body x-data class="is-header-blur" x-bind="$store.global.documentBody">
    <!-- App preloader-->
    <div
      class="app-preloader fixed z-50 grid h-full w-full place-content-center bg-slate-50 dark:bg-navy-900"
    >
      <div class="app-preloader-inner relative inline-block h-48 w-48"></div>
    </div>

    <!-- Page Wrapper -->
    <div
      id="root"
      class="min-h-100vh flex grow bg-slate-50 dark:bg-navy-900"
      x-cloak
    >

      <!-- App Header Wrapper-->
      <nav class="header dark:bg-slate-500">
        <div class="header-container grid grid-cols-5 w-full  px-2">
          <div class=" col-span-1 text-left  md:pl-10 flex items-center">LOGO</div>
          <div class=" col-span-4 flex tab:gap-2 gap-7 md:10 items-center px-2">
            <div
              class=" feature rounded-xl  w-fit px-2 py-2 hover:bg-slate-300/20 focus:bg-slate-300/20 active:bg-slate-300/25 dark:hover:bg-navy-300/20">
              <a >How it works</a>
              
            </div>

            <div
          
              class=" rounded-xl w-fit px-2 py-2 hover:bg-slate-300/20 focus:bg-slate-300/20 active:bg-slate-300/25 dark:hover:bg-navy-300/20">
              <a>Pricing</a>
            </div>
          </div>
        </div>

      </nav>

      <!-- Main Content Wrapper -->
      <main class="main-content w-full pb-8 relative">
   
        <div class="w-full h-fit p-4 text-center speed-title-color relative top-4 text-3xl capitalize" id="share_title">
            <h2>TITLE</h2>
        </div>
        <div class="w-full h-fit p-4 text-center relative top-4 text-base normal-case " id="share_description">
          <h2>Description</h2>
      </div>

        <div class="flex w-full h-fit p-4 speed-title-color  items-center justify-center relative top-7 text-base space-x-9 dark:text-white">
            <div class="p-2 px-5 border-b-4 hover:border-b-4 hover:border-blue-600  hover:text-blue-500">
                <button onclick="w3.hide('.api, .embed'), w3.show('.share')">
                    Share
                </button>
            </div>

            <div class="p-2 px-5 hover:border-b-4 hover:border-blue-600 hover:text-blue-500">
                <button onclick="w3.hide('.share, .embed'), w3.show('.api')">
                    Api
                </button>
            </div>

            <div class="p-2 px-5 hover:border-b-4 hover:border-blue-600 hover:text-blue-500">
                <button onclick="w3.hide('.api, .share'), w3.show('.embed')">
                    Embed
                </button>
            </div>
    
        </div>


        <div class="flex w-full h-fit p-4 items-center justify-center relative top-7 text-sm space-x-9">
         <div class="grid">
            <div class="">
                <div class="card p-4 sm:p-5 w-[350px] sm:w-[400px] md:!w-[500px] lg:!w-[800px] ">
                
               
                  <div class="mt-4 space-y-4">
                    <label class="block text-base api" style="display: none;">
                  
                      <span class="relative mt-1.5 flex text-slate-700 dark:text-white justify-center">
                        
                        Not available yet
                      </span>
                    </label>
                    <label class="block text-base embed " style="display: none;">
                  
                      <span class="relative mt-1.5 flex text-slate-700 dark:text-white justify-center">
                        
                       Feature not available yet
                      </span>
                    </label>
                      <label class="block text-base share">
                  
                        <span class="relative mt-1.5 flex dark:text-blue-400 text-blue-700 text-center justify-center whitespace-normal break-normal">
                          
                          <a href="" class="w-full whitespace-normal break-words" id="share_link">https://</a> 
                        </span>
                      </label>
      
              
                      <div class="flex justify-center space-x-2">

                        <button class="share btn space-x-2 text-white bg-white border border-primary hover:text-white font-medium hover:bg-primary-focus focus:bg-primary-focus active:bg-primary-focus/90 dark:bg-accent dark:hover:bg-accent-focus dark:focus:bg-accent-focus dark:active:bg-accent/90">
                          <span>Copy</span>
                          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 01-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 011.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 00-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 01-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 00-3.375-3.375h-1.5a1.125 1.125 0 01-1.125-1.125v-1.5a3.375 3.375 0 00-3.375-3.375H9.75" />
                          </svg>
                          
                        </button>
                        <button
                            class="share btn space-x-2 bg-primary font-medium text-white hover:bg-primary-focus focus:bg-primary-focus active:bg-primary-focus/90 dark:bg-accent dark:hover:bg-accent-focus dark:focus:bg-accent-focus dark:active:bg-accent/90"
                        >
                            <span>Share</span>
                     
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-5 h-5">
                              <path stroke-linecap="round" stroke-linejoin="round" d="M7.217 10.907a2.25 2.25 0 100 2.186m0-2.186c.18.324.283.696.283 1.093s-.103.77-.283 1.093m0-2.186l9.566-5.314m-9.566 7.5l9.566 5.314m0 0a2.25 2.25 0 103.935 2.186 2.25 2.25 0 00-3.935-2.186zm0-12.814a2.25 2.25 0 103.933-2.185 2.25 2.25 0 00-3.933 2.185z" />
                            </svg>
                            
                        </button>
                      </div>
                  </div>
                </div>
            </div>

        </div>
        </div>






        
      </main>
    </div>
    <!-- 
        This is a place for Alpine.js Teleport feature 
        @see https://alpinejs.dev/directives/teleport
      -->
    <div id="x-teleport-target"></div>
    <script>
      window.addEventListener("DOMContentLoaded", () => Alpine.start());
    </script>
  </body>
</html>

<script>
  $(document).ready(function() {
    //REPLACE ID IN URL
    
    let url = `${baseUrl}/dash/upload/id=${localStorage.getItem('upload_id')}`
    $('#share_link').text(url)
    $('#share_link').attr('href', url)
    async function open(){
      
    let settings = {
      method: 'GET',
      headers: {
       'Authorization': `Bearer ${localStorage.getItem('access')}`,
        "Content-Type": "application/json; charset=UTF-8"
      }
     
    };
  
    console.log(settings)
    try {
      let fetchResponses = await fetch(`http://localhost:5000/api/app/getrecordbyid/${localStorage.getItem('upload_id')}`, settings);
      let statuz = await fetchResponses.status
      let json = await fetchResponses.json();
      console.log(json);
 
      if(json.error == 2){
          window.location.href = "/dist/auth/signin.html";  
      }
      if(json.status == 200){
        $('#share_title').text(json.data.record_name)
        $('#share_description').text(json.data.description)
        $('#share_title').text(json.data.record_name)
          //console.log(json.data)
          //window.location.href = "/dist/dashboard/share.html";        
        }else{
            console.log('Going to chunk 2')
            
  
        }
      } catch (e) {
          console.log(e);
      } 
    }
    open()
  }) 
</script>

<script>
  window.addEventListener('DOMContentLoaded', (event) => {
//    const urlParams = new URLSearchParams(window.location.search);
  //  const id = urlParams.get('id');
 // console.log(urlParams)

  // Get the current URL
const currentURL = window.location.href;

// Parse the URL to extract the path
const urlParts = currentURL.split('/');

// Access the last part of the path, which is the 'id'
const id = urlParts[urlParts.length - 1];

// Print the 'id' to the console
console.log(id);
  });
</script>
<script src="../js/module/global.js"></script>
<script src="../js/checktoken.js"></script>