<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Meta tags  -->
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport"
    content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0" />


  <title>Speedlink</title>
  <link rel="icon" type="image/png" href="../../images/favicon.png" />

  <!-- CSS Assets -->
  <link rel="stylesheet" href="../../css/output.css" />
  <link rel="stylesheet" href="../../css/app.css" />
  <link rel="stylesheet" href="../../css/w3.css" />
  <link rel="stylesheet" href="../../css/pond.css" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

  <!-- Include FilePond CSS -->
  <link href="https://unpkg.com/filepond@5.0.12/dist/filepond.min.css" rel="stylesheet">
  <!-- Javascript Assets -->
  <script src="../../js/app.js" defer></script>
  <script src="../../js/jquery.js"></script>
  <script src="../../js/w3.js"></script>
  <script src="../js/pond.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
    crossorigin="anonymous"></script>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Poppins:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap"
    rel="stylesheet" />
</head>

<div id="questions-container">
  <div class="" id="image_section" style="display: none;">
    <span>Images</span>
    <div class="filepond fp-bordered fp-grid mt-1.5 [--fp-grid:2]">
      <input type="file" class="file" name="file" id="filepond" />
    </div>
  </div>
  
  <!-- PROGRESS BAR START -->
  <div id="progress_bar_section" style="display: none;">
    <div class="flex">
      <div class="mr-3 font-medium dark:text-white  flex items-center text-slate-800 "
        id="upload_percentage">0%</div>
      <div id="result" style="display: none;"
        class="flex items-center text-red-500 dark:text-red-500 offline ">
        <i class="bi bi-wifi-off" style="font-size: 20px;"></i>
        <span>Seems you are offline, Dont leave this page </span>
      </div>
    </div>

    <div class="progress h-2 bg-slate-150 dark:bg-navy-500">
      <div class="is-active relative overflow-hidden rounded-full bg-warning progress_bar">

      </div>
    </div>
  </div>
  <!-- UPLOAD BUTTON FLEX -->
  <div class="flex justify-start space-x-2 pt-4" id="upload_button" style="display:none;">

    <button onclick="uploadToDrive()"
      id="upload_btn"
      class="btn space-x-2 bg-primary font-medium text-white hover:bg-primary-focus focus:bg-primary-focus active:bg-primary-focus/90 dark:bg-accent dark:hover:bg-accent-focus dark:focus:bg-accent-focus dark:active:bg-accent/90">
      <span>Upload</span>
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
        stroke="currentColor" class="w-5 h-5">
        <path stroke-linecap="round" stroke-linejoin="round"
          d="M3 16.5v2.25A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75V16.5m-13.5-9L12 3m0 0l4.5 4.5M12 3v13.5" />
      </svg>
      <div id="up_spinner" style="display: none;"
        class="spinner is-elastic h-7 w-7 animate-spin rounded-full border-[3px] border-white border-r-transparent dark:border-white dark:border-r-transparent">
      </div>

    </button>
  </div>
</div>

<button id="add-question">Add New Question</button>

<script>
$(document).ready(function() {
  // Counter to track question IDs
  let questionCounter = 0;

  // Handle "Add New Question" button click
  $('#add-question').click(function() {
    // Increment the counter for unique IDs
    questionCounter++;

    // Create a new question input field and options
    const questionHtml = `
      <div class="question" data-question-id="${questionCounter}">
        <input type="text" class="question-input" placeholder="Enter your question">
        <label for="required">Required?</label>
        <input type="checkbox" class="required-checkbox">
        <button class="add-answer">Add</button>
      </div>
    `;
    
    $('#questions-container').append(questionHtml);

    // Handle "Add" button click for the current question
    $('.question[data-question-id="' + questionCounter + '"] .add-answer').click(function() {
      const questionId = $(this).closest('.question').data('question-id');
      const questionInput = $(`.question[data-question-id="${questionId}"] .question-input`);
      const requiredCheckbox = $(`.question[data-question-id="${questionId}"] .required-checkbox`);
      
      const questionText = questionInput.val();
      const isRequired = requiredCheckbox.prop('checked') ? 'Required' : 'Not Required';
      
      // Display the result for the current question
      alert(`Question: ${questionText}\n${isRequired}`);
      
      // Remove the question from the DOM
      $(`.question[data-question-id="${questionId}"]`).remove();
    });
  });
});
</script>

</body>
</html>
